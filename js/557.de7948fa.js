"use strict";(self["webpackChunktienda"]=self["webpackChunktienda"]||[]).push([[557],{5557:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var i=o(3673);const a={class:"q-pa-md"},l={class:"q-ma-md q-gutter-sm text-dark"},n=(0,i._)("p",{class:"text-center text-white"},"Nombre",-1),s=(0,i._)("p",{class:"text-center text-white"},"DescripciÃ³n",-1),r=(0,i._)("p",{class:"text-center text-white"},"Duraccion de la pelicula",-1),c={class:"row items-center justify-end"},d=(0,i._)("p",{class:"text-center text-white"},"Categorias",-1),p=(0,i._)("p",{class:"text-center text-white"},"Portada de la pelicula",-1),u=(0,i._)("p",{class:"text-center text-white q-my-sm"}," seleciona una url de un video en youtube para trailer de la pelicula ",-1),m=(0,i._)("p",{class:"text-center text-white q-my-sm"}," seleciona una fecha de estreno la pelicula ",-1),g=(0,i._)("p",null," El ultimo paso para crear la pelicula. por favor verifique que todos los campos esten correctos. ",-1);function h(e,t,o,h,f,b){const q=(0,i.up)("q-input"),w=(0,i.up)("q-editor"),v=(0,i.up)("q-btn"),_=(0,i.up)("q-time"),x=(0,i.up)("q-popup-proxy"),V=(0,i.up)("q-icon"),y=(0,i.up)("q-select"),k=(0,i.up)("q-step"),W=(0,i.up)("q-file"),S=(0,i.up)("q-date"),$=(0,i.up)("q-stepper-navigation"),M=(0,i.up)("q-stepper"),C=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(M,{modelValue:h.step,"onUpdate:modelValue":t[11]||(t[11]=e=>h.step=e),ref:"stepper",dark:"",class:"bg-grey-10","active-color":"deep-orange","done-color":"positive",animated:""},{navigation:(0,i.w5)((()=>[(0,i.Wm)($,null,{default:(0,i.w5)((()=>[3===h.step?((0,i.wg)(),(0,i.j4)(v,{key:0,color:"positive",onClick:t[8]||(t[8]=e=>b.enviar()),label:"Finish",class:"q-ml-sm"})):(0,i.kq)("",!0),h.step<3?((0,i.wg)(),(0,i.j4)(v,{key:1,onClick:t[9]||(t[9]=t=>e.$refs.stepper.next()),color:"deep-orange",label:3===h.step?"Finish":"Continue"},null,8,["label"])):(0,i.kq)("",!0),h.step>1?((0,i.wg)(),(0,i.j4)(v,{key:2,flat:"",color:"deep-orange",onClick:t[10]||(t[10]=t=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):(0,i.kq)("",!0)])),_:1})])),default:(0,i.w5)((()=>[(0,i.Wm)(k,{name:1,title:"datos sobre la pelicula",icon:"settings",done:h.step>1},{default:(0,i.w5)((()=>[(0,i._)("div",l,[n,(0,i.Wm)(q,{filled:"",modelValue:h.nombreMovie,"onUpdate:modelValue":t[0]||(t[0]=e=>h.nombreMovie=e),class:"bg-white",label:"Nombre de la pelicula",dense:h.dense},null,8,["modelValue","dense"]),s,(0,i.Wm)(w,{modelValue:h.qeditor,"onUpdate:modelValue":t[1]||(t[1]=e=>h.qeditor=e),dense:h.$q.screen.lt.md,toolbar:[[{label:h.$q.lang.editor.align,icon:h.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]},{label:h.$q.lang.editor.align,icon:h.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:h.$q.lang.editor.formatting,icon:h.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:h.$q.lang.editor.fontSize,icon:h.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:h.$q.lang.editor.defaultFont,icon:h.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"]),r,(0,i.Wm)(q,{filled:"",modelValue:h.timeWithSeconds,"onUpdate:modelValue":t[3]||(t[3]=e=>h.timeWithSeconds=e),class:"bg-white text-center col-6 q-ma-sm",mask:"fulltime",rules:["fulltime"],style:{width:"250px",margin:"auto"}},{append:(0,i.w5)((()=>[(0,i.Wm)(V,{name:"access_time",class:"cursor-pointer"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{modelValue:h.timeWithSeconds,"onUpdate:modelValue":t[2]||(t[2]=e=>h.timeWithSeconds=e),"with-seconds":"",format24h:""},{default:(0,i.w5)((()=>[(0,i._)("div",c,[(0,i.wy)((0,i.Wm)(v,{label:"Close",color:"primary",flat:""},null,512),[[C]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),d,(0,i.Wm)(y,{filled:"",modelValue:h.categorias,"onUpdate:modelValue":t[4]||(t[4]=e=>h.categorias=e),multiple:"",class:"bg-white",options:h.options,counter:"",hint:"categorias",style:{width:"250px",margin:"auto"}},null,8,["modelValue","options"])])])),_:1},8,["done"]),(0,i.Wm)(k,{name:2,title:"imagenes y trailers",caption:"Optional",icon:"create_new_folder",done:h.step>2},{default:(0,i.w5)((()=>[p,(0,i.Wm)(W,{class:"bg-white q-ma-auto",modelValue:h.filesImages,"onUpdate:modelValue":t[5]||(t[5]=e=>h.filesImages=e),filled:"",label:"solo imagenes",multiple:"",accept:".jpg, image/*",onRejected:h.onRejected},null,8,["modelValue","onRejected"]),u,(0,i.Wm)(q,{outlined:"",class:"bg-white q-mt-sm",modelValue:h.trailerMovie,"onUpdate:modelValue":t[6]||(t[6]=e=>h.trailerMovie=e),label:"youtube video url"},null,8,["modelValue"])])),_:1},8,["done"]),(0,i.Wm)(k,{name:3,title:"fecha de estreno",class:"text-center q-ma-auto",icon:"add_comment"},{default:(0,i.w5)((()=>[m,(0,i.Wm)(S,{modelValue:h.estrenoMovie,"onUpdate:modelValue":t[7]||(t[7]=e=>h.estrenoMovie=e),dark:"",bordered:""},null,8,["modelValue"]),g])),_:1})])),_:1},8,["modelValue"])])}o(5363);var f=o(1959),b=o(52),q=o.n(b),w=o(8825);const v={setup(){return{$q:(0,w.Z)(),step:(0,f.iH)(1),nombreMovie:(0,f.iH)(""),trailerMovie:(0,f.iH)(""),ph:(0,f.iH)(""),dense:(0,f.iH)(!1),estrenoMovie:(0,f.iH)(""),date:(0,f.iH)("2019/02/01"),qeditor:(0,f.iH)("Descripcion de la pelicula"),timeWithSeconds:(0,f.iH)("00:00:00"),categorias:(0,f.iH)(null),model2:(0,f.iH)(null),filesImages:(0,f.iH)(null),options:[],onRejected(e){$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`})}}},methods:{enviar:async function(){const e=new FormData;e.append("caratula",this.filesImages[0]),e.append("titulo",this.nombreMovie),e.append("descripcion",this.qeditor),e.append("fecha_estreno",this.estrenoMovie),e.append("duracion",this.timeWithSeconds),e.append("categorias",this.categorias),e.append("trailer",this.trailerMovie);const t=await q().post("https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/movies/subir",e);console.log(t),1!=t.data.estado?this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:t.data.msg}):(this.$q.notify({color:"green-5",textColor:"white",icon:"positive",message:t.data.msg}),this.$router.replace("/administracion/panel")),console.log(this.nombreMovie,this.trailerMovie,this.estrenoMovie,this.qeditor,this.filesImages[0],this.categorias,this.timeWithSeconds)}},beforeCreate:async function(){const e=await q().get("https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/movies/categorias");console.log(e.data.categorias),this.options=e.data.categorias.map((e=>e.id_categoria+" "+e.nombre_categoria)),console.log(this.options)}};var _=o(3518),x=o(4340),V=o(4689),y=o(9991),k=o(4554),W=o(3944),S=o(5990),$=o(2165),M=o(7757),C=o(4974),Z=o(5626),Q=o(118),H=o(677),j=o(7518),I=o.n(j);v.render=h;const z=v;I()(v,"components",{QStepper:_.Z,QStep:x.Z,QInput:V.Z,QEditor:y.Z,QIcon:k.Z,QPopupProxy:W.Z,QTime:S.Z,QBtn:$.Z,QSelect:M.Z,QFile:C.Z,QDate:Z.Z,QStepperNavigation:Q.Z}),I()(v,"directives",{ClosePopup:H.Z})}}]);