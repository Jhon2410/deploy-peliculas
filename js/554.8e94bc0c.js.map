{"version":3,"file":"js/554.8e94bc0c.js","mappings":";;;;;;;;;;;AAAA;AACA,MAAMC,OAAO,GAAG,iEAAhB;;AAEA,MAAMC,IAAI,GAAI,OAAMC,IAAI,GAAG,EAAb,EAAiBC,MAAjB,KAA4B;AACxC,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AAC/B,UAAMC,GAAG,GAAI,MAAMP,gDAAA,CAAWC,OAAO,GAAG,QAArB,EAAiC;AAACQ,MAAAA,OAAO,EAAE;AAAEC,QAAAA,KAAK,EAAIL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AAA0C,uCAA+B;AAAzE;AAAV,KAAjC,CAAnB;;AACF,QAAG,CAACD,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAJ,EAAoC;AAChCD,MAAAA,YAAY,CAACM,OAAb,CAAqB,SAArB,EAA+BC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAACO,IAAJ,CAASC,OAAxB,CAA/B;AACH;;AAGC,QAAGR,GAAG,CAACO,IAAJ,CAASE,MAAT,KAAoB,CAAvB,EAA2B;AACvBX,MAAAA,YAAY,CAACY,UAAb,CAAwB,OAAxB;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH;;AACD,QAAGb,GAAG,CAACO,IAAJ,CAASC,OAAT,CAAiBM,GAAjB,KAAyB,GAA5B,EAAgC;AAC9BlB,MAAAA,IAAI,KAAI,QAAR,IAAoBA,IAAI,KAAK,WAA7B,IAA4CA,IAAI,IAAE,GAAlD,IAAyDA,IAAI,IAAG,QAAhE,GAA0Ee,MAAM,CAACC,QAAP,CAAgBG,IAAhB,GAAuB,wBAAjG,GAA4H,IAA5H;AACD,KAFD,MAEK;AACHnB,MAAAA,IAAI,KAAI,QAAR,IAAoBA,IAAI,KAAK,WAA7B,IAA4CA,IAAI,IAAE,GAAlD,IAAwDA,IAAI,IAAE,uBAA9D,GAAyFe,MAAM,CAACC,QAAP,CAAgBG,IAAhB,GAAuB,SAAhH,GAA4H,IAA5H;AAED;AAGJ,GAnBD,MAmBK;AACDnB,IAAAA,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,WAA5B,IAA2CA,IAAI,IAAI,GAAnD,GAAyD,IAAzD,GAAgEe,MAAM,CAACC,QAAP,CAAgBG,IAAhB,GAAuB,SAAvF;AAEH;AAEF,CAzBD;;AA2BA,iEAAgBpB,IAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BO,OAAK,EAAC;;;AAEP,OAAK,EAAC;AACN,OAAoB,EAApB;AAAA;AAAA;;;gEAGE,uDAgBK,IAhBL,EAgBK;AAhBD,OAAK,EAAC;AAgBL,CAhBL,EAAsC,cACpC,uDAaM,KAbN,EAaM;AAZJ,OAAK,EAAC,4BAYF;AAXJ,OAAK,EAAC,IAWF;AAVJ,QAAM,EAAC,IAUH;AATJ,MAAI,EAAC,cASD;AARJ,OAAK,EAAC,qBAQF;AAPJ,SAAO,EAAC;AAOJ,CAbN,gBAQE,uDAA+C,MAA/C,EAA+C;AAAzC,GAAC,EAAC;AAAuC,CAA/C,gBACA,uDAGE,MAHF,EAGE;AAFA,eAAU,SAEV;AADA,GAAC,EAAC;AACF,CAHF,EATF,CADoC,oEAc9B,UAd8B,CAAtC;;;AAwCK,OAAK,EAAC;;;;;;;;;;;2DA9CjB,wDA0DM,KA1DN,cA0DM,CAzDJ,uDAwDM,KAxDN,cAwDM,CApDJ,iDAmDS,iBAnDT,EAmDS;AAnDA,YAAM,EAAE,eAmDR;AAnDmB,WAAK,EAAE,cAmD1B;AAnDmC,SAAK,EAAC;AAmDzC,GAnDT;0DACE,MAgBK,CAhBL,UAgBK,EACL,iDAOE,kBAPF,EAOE;AANA,YAAM,EAAN,EAMA;kBALc,WAKd;iEALc,cAAI,OAKlB;sBALA;AAAA;AAAA,OAKA;AAJA,WAAK,EAAC,iBAIN;AAHA,WAAK,EAAC,qCAGN;AAFA,sBAEA;AADC,WAAK,GAAI,GAAJ,IAAa,GAAG,IAAI,GAAG,CAAC,MAAJ,GAAU,CAAvB,IAAuB,uBAA9B;AACN,KAPF,mCADK,EAUL,iDAUE,kBAVF,EAUE;AATA,YAAM,EAAN,EASA;AARA,UAAI,EAAC,UAQL;kBAPc,WAOd;iEAPc,cAAI,OAOlB;sBAPA;AAAA;AAAA,OAOA;AANA,WAAK,EAAC,iBAMN;AALA,sBAKA;AAJC,WAAK,GAAkB,OAAwB,GAAG,SAAH,IAAgB,GAAG,sCAA7D;AAIN,KAVF,mCAVK,EAsBL,iDAAoE,mBAApE,EAAoE;kBAAjD,aAAiD;iEAAjD,gBAAM,OAA2C;AAAzC,WAAK,EAAC;AAAmC,KAApE,0BAtBK,EAwBL,uDAEM,KAFN,cAEM,CADJ,iDAAqD,gBAArD,EAAqD;AAA9C,WAAK,EAAC,OAAwC;AAAhC,UAAI,EAAC,QAA2B;AAAlB,WAAK,EAAC;AAAY,KAArD,CACI,CAFN,CAxBK,EA2BL,iDAME,gBANF,EAME;AALC,aAAK,sCAAE,aAAQ,OAAR,CAAe,WAAf,CAAF,CAKN;AAJA,UAAI,EAAJ,EAIA;AAHA,aAAO,EAAP,EAGA;AAFA,WAAK,EAAC,SAEN;AADA,WAAK,EAAC;AACN,KANF,CA3BK;;GAjBP,6BAoDI,CAxDN,CAyDI,CA1DN;;;;;;;;;;;;;;AA8DF;AACA;AACA;AACA;AACA,mEAAe;AACb,OAAK,GAAG;AACN,UAAM,EAAC,GAAI,6BAAS,EAApB;AACA,UAAM,IAAG,GAAI,sCAAG,CAAC,IAAD,CAAhB;AACA,UAAM,IAAG,GAAI,sCAAG,CAAC,IAAD,CAAhB;AACA,UAAM,MAAK,GAAI,sCAAG,CAAC,KAAD,CAAlB;AAEA,WAAO;AACL,UADK;AAEL,UAFK;AAGL,YAHK;;AAKL,cAAQ,GAAG;AACT,YAAI,MAAM,CAAC,KAAP,KAAiB,IAArB,EAA2B;AACzB,YAAE,CAAC,MAAH,CAAU;AACR,iBAAK,EAAE,OADC;AAER,qBAAS,EAAE,OAFH;AAGR,gBAAI,EAAE,SAHE;AAIR,mBAAO,EAAE;AAJD,WAAV;AAMF,SAPA,MAOO;AACL,WAAC,YAAY;AACX,kBAAM,GAAE,GAAI,MAAM,qBAAW,uEAAX,EAAoF;AACpG,sBAAQ,EAAE,IAAI,CAAC,KADqF;AAEpG,sBAAQ,EAAE,IAAI,CAAC,KAFqF;AAGpG,iBAAG,EAAE,GAH+F;AAIpG,oBAAM,EAAE,YAAY,CAAC,OAAb,CAAqB,QAArB;AAJ4F,aAApF,CAAlB;;AAMA,gBAAI,GAAG,CAAC,IAAJ,CAAS,MAAT,KAAoB,CAAxB,EAA0B;AACxB,0BAAY,CAAC,OAAb,CAAqB,OAArB,EAA6B,GAAG,CAAC,IAAJ,CAAS,KAAtC;AACA,oBAAM,CAAC,QAAP,CAAgB,IAAhB,GAAqB,wBAArB;AACC,gBAAE,CAAC,MAAH,CAAU;AACX,qBAAK,EAAE,SADI;AAEX,yBAAS,EAAE,OAFA;AAGX,oBAAI,EAAE,MAHK;AAIX,uBAAO,EAAE,GAAG,CAAC,IAAJ,CAAS;AAJP,eAAV;AAMF,aATD,MASK;AACF,gBAAE,CAAC,MAAH,CAAU;AACX,qBAAK,EAAE,OADI;AAEX,yBAAS,EAAE,OAFA;AAGX,oBAAI,EAAE,SAHK;AAIX,uBAAO,EAAE,GAAG,CAAC,IAAJ,CAAS;AAJP,eAAV;AAMH;AAED,WAzBD;AA0BF;AACD,OAzCI;;AA2CL,aAAO,GAAG;AACR,YAAI,CAAC,KAAL,GAAa,IAAb;AACA,YAAI,CAAC,KAAL,GAAa,IAAb;AACA,cAAM,CAAC,KAAP,GAAe,KAAf;AACD;;AA/CI,KAAP;AAiDD,GAxDY;;AAwDR,cAAY,EAAE,kBAAkB;AAChC,2BAAI,CAAC,KAAK,MAAL,CAAY,QAAb,CAAJ;AAGJ,GA5DY;;AA6DX,iBAAe,CAAC;AAAE,OAAF;AAAO,UAAP;AAAe;AAAf,GAAD,EAAwB;AACvC,WAAO,CAAC,GAAR,CAAY;AAAE,SAAF;AAAO,YAAP;AAAe;AAAf,KAAZ;AACD;;AA/DY,CAAf;;AEnEgY;;;;;;;;;;;;;ACAlT;AACtB;AACL;;AAEnD,CAA4E;AAC5E,mCAAa,GAAG,MAAM;AACtB,sCAAgB;;AAEhB,4CAAe,4BAAM;AACrB,CAAwD;AACG;AACG;AACT;AACuC;AAC5F,6BAAQ,CAAC,4BAAM,iBAAiB,KAAK,6BAAO,+BAAQ,6BAAK,sBAAC","sources":["webpack://tienda/./src/auth/index.js","webpack://tienda/./src/pages/administracion/login.vue","webpack://tienda/./src/pages/administracion/login.vue?6757","webpack://tienda/./src/pages/administracion/login.vue?950c","webpack://tienda/./src/pages/administracion/login.vue?e5d2"],"sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/\";\r\n\r\nconst auth =  async(path = \"\", $store) => {\r\n  if (localStorage.getItem(\"token\")) {\r\n      const res =  await axios.get( baseUrl + \"users/\",   {headers: { token :  localStorage.getItem(\"token\") ,\"Access-Control-Allow-Origin\": \"*\"}})\r\n    if(!localStorage.getItem(\"usuario\")){\r\n        localStorage.setItem(\"usuario\",JSON.stringify(res.data.usuario) )\r\n    }\r\n\r\n\r\n      if(res.data.estado === 0 ) {\r\n          localStorage.removeItem(\"token\")\r\n          window.location.reload()\r\n      }\r\n      if(res.data.usuario.rol === \"c\"){\r\n        path ===\"/login\" || path === \"/register\" || path==\"/\" || path== \"/panel\"? window.location.href = \"#/administracion/panel\" : null\r\n      }else{\r\n        path ===\"/login\" || path === \"/register\" || path==\"/\"|| path==\"/administracion/panel\"  ? window.location.href = \"#/panel\" : null\r\n\r\n      }\r\n\r\n\r\n  }else{\r\n      path == \"/login\" || path == \"/register\" || path == \"/\" ? null : window.location.href = \"#/login\"\r\n\r\n  }\r\n\r\n};\r\n\r\nexport default  auth;\r\n","<template>\r\n  <div class=\"login bg-dark\">\r\n    <div\r\n      class=\"q-pa-md bg-white text-black shadow-up-16 rounded-borders\"\r\n      style=\"width: 400px\"\r\n    >\r\n      <q-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"q-gutter-md\">\r\n        <h6 class=\"text-uppercase text-center\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-person-circle\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"\r\n            />\r\n          </svg>\r\n          login\r\n        </h6>\r\n        <q-input\r\n          filled\r\n          v-model.trim=\"name\"\r\n          label=\"Your username *\"\r\n          title=\"please, put your username to log in\"\r\n          lazy-rules\r\n          :rules=\"[(val) => (val && val.length > 0) || 'Please type something']\"\r\n        />\r\n\r\n        <q-input\r\n          filled\r\n          type=\"password\"\r\n          v-model.trim=\"pass\"\r\n          label=\"Your password *\"\r\n          lazy-rules\r\n          :rules=\"[\r\n            (val) =>\r\n              (val !== null && val !== '') || 'Please put your password ',\r\n          ]\"\r\n        />\r\n\r\n        <q-toggle v-model=\"accept\" label=\"I accept the license and terms\" />\r\n\r\n        <div class=\"text-center\">\r\n          <q-btn label=\"Login\" type=\"submit\" color=\"primary\" />\r\n        </div>\r\n        <q-btn\r\n          @click=\"$router.replace(`/register`)\"\r\n          flat\r\n          rounded\r\n          color=\"primary\"\r\n          label=\"no tengo una cuenta\"\r\n        />\r\n      </q-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useQuasar } from \"quasar\";\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport  auth  from \"src/auth/index\"\r\nexport default {\r\n  setup() {\r\n    const $q = useQuasar();\r\n    const name = ref(null);\r\n    const pass = ref(null);\r\n    const accept = ref(false);\r\n\r\n    return {\r\n      name,\r\n      pass,\r\n      accept,\r\n\r\n      onSubmit() {\r\n        if (accept.value !== true) {\r\n          $q.notify({\r\n            color: \"red-5\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: \"You need to accept the license and terms first\",\r\n          });\r\n        } else {\r\n          (async () => {\r\n            const res = await axios.post(\"https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/users/\", {\r\n              username: name.value,\r\n              password: pass.value,\r\n              rol: \"c\",\r\n              randid: localStorage.getItem(\"randid\"),\r\n            });\r\n            if( res.data.estado === 1){\r\n              localStorage.setItem(\"token\",res.data.token)\r\n              window.location.href=\"#/administracion/panel\"\r\n               $q.notify({\r\n              color: \"green-4\",\r\n              textColor: \"white\",\r\n              icon: \"done\",\r\n              message: res.data.msg,\r\n            });\r\n            }else{\r\n               $q.notify({\r\n              color: \"red-5\",\r\n              textColor: \"white\",\r\n              icon: \"warning\",\r\n              message: res.data.msg,\r\n            });\r\n            }\r\n\r\n          })();\r\n        }\r\n      },\r\n\r\n      onReset() {\r\n        name.value = null;\r\n        pass.value = null;\r\n        accept.value = false;\r\n      },\r\n    };\r\n  },   beforeCreate: async function () {\r\n       auth(this.$route.fullPath)\r\n\r\n\r\n  },\r\n    renderTriggered({ key, target, type }) {\r\n    console.log({ key, target, type })\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./login.vue?vue&type=template&id=eb606252&scoped=true\"","export { default } from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./login.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./login.vue?vue&type=script&lang=js\"","import { render } from \"./login.vue?vue&type=template&id=eb606252&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=eb606252&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-eb606252\"\n\nexport default script\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QInput,QToggle,QBtn});\n"],"names":["axios","baseUrl","auth","path","$store","localStorage","getItem","res","get","headers","token","setItem","JSON","stringify","data","usuario","estado","removeItem","window","location","reload","rol","href"],"sourceRoot":""}