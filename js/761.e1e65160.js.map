{"version":3,"file":"js/761.e1e65160.js","mappings":"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","sources":["webpack://tienda/./src/auth/index.js","webpack://tienda/./src/pages/administracion/register.vue","webpack://tienda/./src/pages/administracion/register.vue?6af4","webpack://tienda/./src/pages/administracion/register.vue?63ce","webpack://tienda/./src/pages/administracion/register.vue?7a49"],"sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/\";\r\n\r\nconst auth =  async(path = \"\", $store) => {\r\n  if (localStorage.getItem(\"token\")) {\r\n      const res =  await axios.get( baseUrl + \"users/\",   {headers: { token :  localStorage.getItem(\"token\")}})\r\n    if(!localStorage.getItem(\"usuario\")){\r\n        localStorage.setItem(\"usuario\",JSON.stringify(res.data.usuario) )\r\n    }\r\n\r\n\r\n      if(res.data.estado === 0 ) {\r\n          localStorage.removeItem(\"token\")\r\n          window.location.reload()\r\n      }\r\n      if(res.data.usuario.rol === \"c\"){\r\n        path ===\"/login\" || path === \"/register\" || path==\"/\" || path== \"/panel\"? window.location.href = \"#/administracion/panel\" : null\r\n      }else{\r\n        path ===\"/login\" || path === \"/register\" || path==\"/\"|| path==\"/administracion/panel\"  ? window.location.href = \"#/panel\" : null\r\n\r\n      }\r\n\r\n\r\n  }else{\r\n      path == \"/login\" || path == \"/register\" || path == \"/\" ? null : window.location.href = \"#/login\"\r\n\r\n  }\r\n\r\n};\r\n\r\nexport default  auth;\r\n","<template>\r\n  <div class=\"login bg-dark\">\r\n    <div\r\n      class=\"q-pa-md bg-white text-black shadow-up-16 rounded-borders\"\r\n      style=\"width: 400px\"\r\n    >\r\n      <q-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"q-gutter-md\">\r\n    \r\n        <h6 class=\"text-uppercase text-center\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-person-circle\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"\r\n            />\r\n          </svg>\r\n          register\r\n        </h6>\r\n        <q-input\r\n          filled\r\n          v-model.trim=\"name\"\r\n          label=\"Your username *\"\r\n          title=\"please, put your username to log in, minimo 4 digitos\"\r\n          lazy-rules\r\n           pattern=\"[A-Za-z]{4,40}\"\r\n          :rules=\"[(val) => (val && val.length > 0)  || 'Please type something'\r\n           \r\n          ]\"\r\n          \r\n        />\r\n\r\n        <q-input\r\n          filled\r\n          type=\"password\"\r\n          v-model.trim=\"pass\"\r\n          label=\"Your password *\"\r\n          pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\r\n          title=\"the password must be  sure, Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\r\n          lazy-rules\r\n          :rules=\"[\r\n            (val) =>\r\n              (val !== null && val !== '') || 'Please put your password ',\r\n          \r\n          ]\"\r\n        />\r\n\r\n        <q-toggle v-model=\"accept\" label=\"I accept the license and terms\" />\r\n\r\n        <div class=\"text-center\">\r\n          <q-btn label=\"register\" type=\"submit\" color=\"primary\" />\r\n        </div>\r\n            <q-btn @click=\"$router.replace(`/login`)\" flat rounded color=\"primary\" label=\"ya tengo una cuenta\" />\r\n\r\n      </q-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useQuasar } from \"quasar\";\r\nimport { ref } from \"vue\";\r\nimport auth from \"src/auth/index\"\r\nimport axios from \"axios\" \r\nexport default {\r\n  setup() {\r\n    const $q = useQuasar();\r\n\r\n    const name = ref(null);\r\n    const pass = ref(null);\r\n    const accept = ref(false);\r\n\r\n    return {\r\n      name,\r\n      pass,\r\n      accept,\r\n\r\n      onSubmit() {\r\n        if (accept.value !== true) {\r\n\r\n\r\n          $q.notify({\r\n            color: \"red-5\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: \"You need to accept the license and terms first\",\r\n          });\r\n        } else {\r\n          \r\n\r\n          (async () => {\r\n            const res = await axios.post(\"https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/users/register\", {\r\n              username: name.value,\r\n              password: pass.value,\r\n              rol: \"c\",\r\n              randid: localStorage.getItem(\"randid\"),\r\n            });\r\n            if( res.data.estado === 1){\r\n              localStorage.setItem(\"token\",res.data.token)\r\n              window.location.href=\"#/administracion/panel\"\r\n               $q.notify({\r\n              color: \"green-4\",\r\n              textColor: \"white\",\r\n              icon: \"done\",\r\n              message: res.data.msg,\r\n            });\r\n            }else{\r\n               $q.notify({\r\n              color: \"red-5\",\r\n              textColor: \"white\",\r\n              icon: \"warning\",\r\n              message: res.data.msg,\r\n            });\r\n            }\r\n           \r\n          })();\r\n\r\n          $q.notify({\r\n            color: \"green-4\",\r\n            textColor: \"white\",\r\n            icon: \"cloud_done\",\r\n            message: \"Submitted\",\r\n          });\r\n        }\r\n      },\r\n\r\n      onReset() {\r\n        name.value = null;\r\n        pass.value = null;\r\n        accept.value = false;\r\n      },\r\n    };\r\n  },  beforeCreate : function (){\r\n    auth(this.$route.fullPath)\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./register.vue?vue&type=template&id=29d571a8&scoped=true\"","export { default } from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./register.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.js.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use[0]!../../../node_modules/@quasar/app/lib/webpack/loader.vue.auto-import-quasar.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./register.vue?vue&type=script&lang=js\"","import { render } from \"./register.vue?vue&type=template&id=29d571a8&scoped=true\"\nimport script from \"./register.vue?vue&type=script&lang=js\"\nexport * from \"./register.vue?vue&type=script&lang=js\"\n\nimport \"./register.vue?vue&type=style&index=0&id=29d571a8&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-29d571a8\"\n\nexport default script\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(script, 'components', {QForm,QInput,QToggle,QBtn});\n"],"names":["axios","baseUrl","auth","path","$store","localStorage","getItem","res","get","headers","token","setItem","JSON","stringify","data","usuario","estado","removeItem","window","location","reload","rol","href"],"sourceRoot":""}