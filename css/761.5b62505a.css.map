{"version":3,"file":"css/761.5b62505a.css","mappings":";AAiJA;EACE,eAAe;EACf,MAAM;EACN,SAAS;EACT,WAAW;EACX,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB","sources":["webpack://tienda/./src/pages/administracion/register.vue"],"sourcesContent":["<template>\r\n  <div class=\"login bg-dark\">\r\n    <div\r\n      class=\"q-pa-md bg-white text-black shadow-up-16 rounded-borders\"\r\n      style=\"width: 400px\"\r\n    >\r\n      <q-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"q-gutter-md\">\r\n    \r\n        <h6 class=\"text-uppercase text-center\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-person-circle\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"\r\n            />\r\n          </svg>\r\n          register\r\n        </h6>\r\n        <q-input\r\n          filled\r\n          v-model.trim=\"name\"\r\n          label=\"Your username *\"\r\n          title=\"please, put your username to log in, minimo 4 digitos\"\r\n          lazy-rules\r\n           pattern=\"[A-Za-z]{4,40}\"\r\n          :rules=\"[(val) => (val && val.length > 0)  || 'Please type something'\r\n           \r\n          ]\"\r\n          \r\n        />\r\n\r\n        <q-input\r\n          filled\r\n          type=\"password\"\r\n          v-model.trim=\"pass\"\r\n          label=\"Your password *\"\r\n          pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\r\n          title=\"the password must be  sure, Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\r\n          lazy-rules\r\n          :rules=\"[\r\n            (val) =>\r\n              (val !== null && val !== '') || 'Please put your password ',\r\n          \r\n          ]\"\r\n        />\r\n\r\n        <q-toggle v-model=\"accept\" label=\"I accept the license and terms\" />\r\n\r\n        <div class=\"text-center\">\r\n          <q-btn label=\"register\" type=\"submit\" color=\"primary\" />\r\n        </div>\r\n            <q-btn @click=\"$router.replace(`/login`)\" flat rounded color=\"primary\" label=\"ya tengo una cuenta\" />\r\n\r\n      </q-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useQuasar } from \"quasar\";\r\nimport { ref } from \"vue\";\r\nimport auth from \"src/auth/index\"\r\nimport axios from \"axios\" \r\nexport default {\r\n  setup() {\r\n    const $q = useQuasar();\r\n\r\n    const name = ref(null);\r\n    const pass = ref(null);\r\n    const accept = ref(false);\r\n\r\n    return {\r\n      name,\r\n      pass,\r\n      accept,\r\n\r\n      onSubmit() {\r\n        if (accept.value !== true) {\r\n\r\n\r\n          $q.notify({\r\n            color: \"red-5\",\r\n            textColor: \"white\",\r\n            icon: \"warning\",\r\n            message: \"You need to accept the license and terms first\",\r\n          });\r\n        } else {\r\n          \r\n\r\n          (async () => {\r\n            const res = await axios.post(\"https://app-7c7abf18-8298-4713-a5f3-1861e51324b6.cleverapps.io/users/register\", {\r\n              username: name.value,\r\n              password: pass.value,\r\n              rol: \"c\",\r\n              randid: localStorage.getItem(\"randid\"),\r\n            });\r\n            if( res.data.estado === 1){\r\n              localStorage.setItem(\"token\",res.data.token)\r\n              window.location.href=\"#/administracion/panel\"\r\n               $q.notify({\r\n              color: \"green-4\",\r\n              textColor: \"white\",\r\n              icon: \"done\",\r\n              message: res.data.msg,\r\n            });\r\n            }else{\r\n               $q.notify({\r\n              color: \"red-5\",\r\n              textColor: \"white\",\r\n              icon: \"warning\",\r\n              message: res.data.msg,\r\n            });\r\n            }\r\n           \r\n          })();\r\n\r\n          $q.notify({\r\n            color: \"green-4\",\r\n            textColor: \"white\",\r\n            icon: \"cloud_done\",\r\n            message: \"Submitted\",\r\n          });\r\n        }\r\n      },\r\n\r\n      onReset() {\r\n        name.value = null;\r\n        pass.value = null;\r\n        accept.value = false;\r\n      },\r\n    };\r\n  },  beforeCreate : function (){\r\n    auth(this.$route.fullPath)\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n"],"names":[],"sourceRoot":""}